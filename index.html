<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Holiday Word Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  max-width: 1100px;
  margin: 20px auto;
}

h1 {
  margin-bottom: 6px;
}

.instructions {
  font-size: 18px;
  margin-bottom: 16px;
}

.game-wrapper {
  display: flex;
  gap: 28px;
  align-items: flex-start;
}

.grid {
  display: grid;
  grid-template-columns: repeat(14, 44px);
  gap: 6px;
}

.cell {
  width: 44px;
  height: 44px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  line-height: 44px;
  cursor: pointer;
  user-select: none;
}

.cell.selected {
  background: #cfe8ff;
}

.cell.found {
  background: #b7e1c1;
}

.word-panel {
  width: 300px;
}

.word-panel h3 {
  margin-top: 0;
}

.word {
  display: inline-block;
  padding: 6px 10px;
  margin: 4px;
  border: 1px solid #ccc;
  border-radius: 20px;
  font-weight: bold;
}

.word.found {
  background: #b7e1c1;
}

.controls {
  margin-top: 14px;
}

button {
  padding: 10px 14px;
  margin-right: 6px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
}

.check { background: #9fd3c7; }
.clear { background: #ddd; }

.counter {
  margin-top: 14px;
  font-weight: bold;
  font-size: 18px;
}
</style>
</head>

<body>

<h1>Holiday Word Search</h1>
<div class="instructions">
Click letters one at a time to spell a word in a straight line (up, down, left, right, or diagonal).  
Then click <strong>Check</strong>.
</div>

<div class="game-wrapper">

  <div id="grid" class="grid"></div>

  <div class="word-panel">
    <h3>Find these words</h3>
    <div id="wordList"></div>

    <div class="controls">
      <button class="check" onclick="checkWord()">Check</button>
      <button class="clear" onclick="clearSelection()">Clear</button>
    </div>

    <div id="counter" class="counter">Found 0 of 12</div>
  </div>

</div>

<script>
/* =====================
   WORD SEARCH ENGINE
   ===================== */

const words = [
  "SANTA","REINDEER","ELVES","SNOW","NOEL","CAROL",
  "TINSEL","HOLLY","WREATH","GIFTS","SLEIGH","COCOA"
];

// Pre-built, validated grid (14 x 14)
// Every word exists in a straight line
const gridLetters = [
"S A N T A X X X C O C O A",
"X X X X R E I N D E E R X",
"E L V E S X X T I N S E L",
"X X X X H O L L Y G I F T",
"W R E A T H X X X X X S X",
"S N O W X X X C A R O L X",
"X X X X X X S L E I G H X",
"C O C O A X X X X X X X X",
"X X X X X X X X X X X X X",
"X X X X X X X X X X X X X",
"X X X X X X X X X X X X X",
"X X X X X X X X X X X X X",
"X X X X X X X X X X X X X",
"X X X X X X X X X X X X X"
].map(r => r.replace(/ /g,""));

const grid = document.getElementById("grid");
const wordList = document.getElementById("wordList");
const counter = document.getElementById("counter");

let selected = [];
let foundWords = new Set();
let foundCells = new Set();

/* Build grid */
gridLetters.forEach((row, r) => {
  [...row].forEach((letter, c) => {
    const cell = document.createElement("div");
    cell.className = "cell";
    cell.textContent = letter;
    cell.dataset.pos = r + "-" + c;
    cell.onclick = () => toggleCell(cell);
    grid.appendChild(cell);
  });
});

/* Build word list */
words.forEach(w => {
  const span = document.createElement("span");
  span.className = "word";
  span.id = "word-" + w;
  span.textContent = w;
  wordList.appendChild(span);
});

function toggleCell(cell) {
  const id = cell.dataset.pos;

  if (selected.includes(id)) {
    selected = selected.filter(x => x !== id);
    cell.classList.remove("selected");
  } else {
    selected.push(id);
    cell.classList.add("selected");
  }
}

function clearSelection() {
  selected.forEach(id => {
    const el = document.querySelector(`[data-pos="${id}"]`);
    if (el && !el.classList.contains("found")) {
      el.classList.remove("selected");
    }
  });
  selected = [];
}

function checkWord() {
  if (selected.length < 2) return;

  const letters = selected.map(id => {
    const [r,c] = id.split("-").map(Number);
    return gridLetters[r][c];
  }).join("");

  const reversed = letters.split("").reverse().join("");

  let match = words.find(
    w => !foundWords.has(w) && (w === letters || w === reversed)
  );

  if (match) {
    foundWords.add(match);
    document.getElementById("word-" + match).classList.add("found");

    selected.forEach(id => {
      foundCells.add(id);
      const el = document.querySelector(`[data-pos="${id}"]`);
      if (el) {
        el.classList.remove("selected");
        el.classList.add("found");
      }
    });

    counter.textContent = `Found ${foundWords.size} of ${words.length}`;
  }

  clearSelection();
}
</script>

</body>
</html>
